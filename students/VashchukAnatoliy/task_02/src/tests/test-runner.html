<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã - –ú–µ–º-–±–ª–æ–≥</title>
    <style>
        body { font-family: system-ui, sans-serif; max-width: 800px; margin: 0 auto; padding: 2rem; background: #f5f5f5; }
        .test-container { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
        h1 { color: #004aad; text-align: center; }
        button { background: #004aad; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1.1rem; margin: 1rem 0; }
        button:hover { background: #003a8c; }
        #test-output { background: #1a1a1a; color: #00ff00; padding: 1rem; border-radius: 8px; font-family: 'Courier New', monospace; white-space: pre-wrap; margin-top: 1rem; max-height: 500px; overflow-y: auto; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üß™ –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –¥–ª—è –º–µ–º-–±–ª–æ–≥–∞</h1>
        <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏</p>
        
        <button onclick="runTests()">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã</button>
        <button onclick="clearOutput()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—ã–≤–æ–¥</button>
        
        <div id="test-output">
            –ù–∞–∂–º–∏—Ç–µ "–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏...
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ -->
    <script src="../scripts/validation.js"></script>
    
    <script>
        // –¢–µ—Å—Ç—ã –¥–ª—è validateEmail
        function testValidateEmail() {
            console.log('=== –¢–µ—Å—Ç—ã validateEmail ===');
            
            console.assert(Validation.validateEmail('test@example.com') === true, '‚úÖ –í–∞–ª–∏–¥–Ω—ã–π email');
            console.assert(Validation.validateEmail('invalid') === false, '‚úÖ –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π email –±–µ–∑ @');
            console.assert(Validation.validateEmail('') === false, '‚úÖ –ü—É—Å—Ç–æ–π email');
            
            console.log('‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã validateEmail –ø—Ä–æ–π–¥–µ–Ω—ã\n');
        }

        // –¢–µ—Å—Ç—ã –¥–ª—è validateMessage
        function testValidateMessage() {
            console.log('=== –¢–µ—Å—Ç—ã validateMessage ===');
            
            console.assert(Validation.validateMessage('–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–æ–ª–µ–µ 20 —Å–∏–º–≤–æ–ª–æ–≤') === true, '‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ ‚â•20 —Å–∏–º–≤–æ–ª–æ–≤');
            console.assert(Validation.validateMessage('–ö–æ—Ä–æ—Ç–∫–æ') === false, '‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ <20 —Å–∏–º–≤–æ–ª–æ–≤');
            
            console.log('‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã validateMessage –ø—Ä–æ–π–¥–µ–Ω—ã\n');
        }

        // –¢–µ—Å—Ç—ã –¥–ª—è validateName
        function testValidateName() {
            console.log('=== –¢–µ—Å—Ç—ã validateName ===');
            
            console.assert(Validation.validateName('–ê–Ω–∞—Ç–æ–ª–∏–π') === true, '‚úÖ –í–∞–ª–∏–¥–Ω–æ–µ –∏–º—è');
            console.assert(Validation.validateName('') === false, '‚úÖ –ü—É—Å—Ç–æ–µ –∏–º—è');
            
            console.log('‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã validateName –ø—Ä–æ–π–¥–µ–Ω—ã\n');
        }

        // –¢–µ—Å—Ç—ã –¥–ª—è validateForm
        function testValidateForm() {
            console.log('=== –¢–µ—Å—Ç—ã validateForm ===');
            
            const validFormData = {
                name: '–ê–Ω–∞—Ç–æ–ª–∏–π',
                email: 'test@example.com',
                message: '–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–æ–ª–µ–µ —á–µ–º 20 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∞',
                url: 'https://example.com/meme.jpg'
            };
            
            const validResult = Validation.validateForm(validFormData);
            console.assert(validResult.isValid === true, '‚úÖ –í–∞–ª–∏–¥–Ω–∞—è —Ñ–æ—Ä–º–∞');
            
            const invalidFormData = {
                name: '',
                email: 'invalid-email',
                message: '–ö–æ—Ä–æ—Ç–∫–æ'
            };
            
            const invalidResult = Validation.validateForm(invalidFormData);
            console.assert(invalidResult.isValid === false, '‚úÖ –ù–µ–≤–∞–ª–∏–¥–Ω–∞—è —Ñ–æ—Ä–º–∞');
            
            console.log('‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã validateForm –ø—Ä–æ–π–¥–µ–Ω—ã\n');
        }

        // –¢–µ—Å—Ç—ã –¥–ª—è toggleLike
        function testToggleLike() {
            console.log('=== –¢–µ—Å—Ç—ã toggleLike ===');
            
            const likeResult = Validation.toggleLike(false, 10);
            console.assert(likeResult.liked === true, '‚úÖ –õ–∞–π–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è');
            console.assert(likeResult.likes === 11, '‚úÖ –°—á—ë—Ç—á–∏–∫ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è');
            
            const unlikeResult = Validation.toggleLike(true, 15);
            console.assert(unlikeResult.liked === false, '‚úÖ –õ–∞–π–∫ —É–¥–∞–ª—è–µ—Ç—Å—è');
            console.assert(unlikeResult.likes === 14, '‚úÖ –°—á—ë—Ç—á–∏–∫ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è');
            
            console.log('‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã toggleLike –ø—Ä–æ–π–¥–µ–Ω—ã\n');
        }

        // –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
        function runAllTests() {
            console.clear();
            console.log('üöÄ –ó–∞–ø—É—Å–∫ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤ –¥–ª—è –º–µ–º-–±–ª–æ–≥–∞\n');
            
            try {
                testValidateEmail();
                testValidateMessage();
                testValidateName();
                testValidateForm();
                testToggleLike();
                
                console.log('üéâ –í—Å–µ —Ç–µ—Å—Ç—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–π–¥–µ–Ω—ã!');
                
            } catch (error) {
                console.error('‚ùå –¢–µ—Å—Ç—ã –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å:', error);
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫
        window.runTests = function() {
            const output = document.getElementById('test-output');
            output.innerHTML = 'üîÑ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤...\n\n';
            
            const originalConsoleLog = console.log;
            console.log = function(...args) {
                originalConsoleLog.apply(console, args);
                output.textContent += args.join(' ') + '\n';
                output.scrollTop = output.scrollHeight;
            };
            
            runAllTests();
            
            setTimeout(() => {
                console.log = originalConsoleLog;
            }, 100);
        };
        
        window.clearOutput = function() {
            document.getElementById('test-output').textContent = '–í—ã–≤–æ–¥ –æ—á–∏—â–µ–Ω...';
        };
    </script>
</body>
</html>