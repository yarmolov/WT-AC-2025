# Лабораторная работа 06. Базы данных и авторизация (SQLite/PostgreSQL + ORM + JWT)

## Описание
Подключение БД к серверному приложению, реализация авторизации на базе JWT и защита маршрутов. Перенос CRUD из ЛР‑05 в БД.

## Цели
- Настроить ORM и схему данных (SQLite/PostgreSQL).
- Реализовать регистрацию/логин, выдачу JWT, middleware защиты и доступ к задачам только владельца.

## Задания
1. ORM и схема: Prisma/TypeORM/Sequelize; сущности `User` и `Task` с ownerId.
2. Миграции/синхронизация схемы. Перенести CRUD `tasks` на БД.
3. Авторизация: `/api/auth/signup`, `/api/auth/login`, middleware `auth` с Bearer‑токеном.
4. Безопасность: CORS, ограничения размеров тел, хранение секретов в .env; rate limit по желанию.

## Минимальные технические требования
- Хеширование пароля (bcrypt/argon2).
- Защита маршрутов: только авторизованный доступ; выдача только своих задач.

<!-- START:artifacts -->

## Артефакты (что сдаём)

- Исходники сервера с ORM, инструкции (.env.example, миграции, скрипты), краткий seed.
- README: эндпоинты аутентификации, как получить токен и выполнять CRUD.
<!-- END:artifacts -->

<!-- START:criteria -->

## Критерии оценивания (100 баллов)

- Схема БД/миграции — 20
- CRUD + связь с пользователем — 25
- Безопасность (хеши, JWT, защита маршрутов, CORS) — 20
- Качество кода/архитектуры — 15
- Тесты/валидность — 10
- Документация/инструкция — 10
<!-- END:criteria -->

<!-- START:bonuses -->

## Бонусы (+ до 10)

- Refresh‑токены и обновление access‑токена.
- Роли/права (admin/user).
- Password reset flow (email‑заглушка).
<!-- END:bonuses -->

## Подсказки

- Не храните пароль в открытом виде; используйте bcrypt/argon2.
- Секреты/строки подключения — в .env, не коммитить.

Методические материалы: [ЛР06](./Лабораторная_работа_06_Методические_материалы.md)

Список вариантов: [Варианты тем](./Варианты.md)
